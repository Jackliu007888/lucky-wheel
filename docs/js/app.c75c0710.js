(function(e){function t(t){for(var r,i,c=t[0],s=t[1],u=t[2],d=0,h=[];d<c.length;d++)i=c[d],a[i]&&h.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=(n("96cf"),n("1da1")),o=n("2909"),i=(n("7f7f"),n("c5f6"),n("ab7c"),6e3),c=8,s=7200,u=function(){return{name:"谢谢参与",image:{src:"http://image.wxopen.shenhudong.com/20181210/9c59cb986335af0c7cdda8c0e9196f1e.png"},id:"-10010"}},l=function(e,t,n,r){var a=(r-90)*Math.PI/180;return{x:e+n*Math.cos(a),y:t+n*Math.sin(a)}},d=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,o=e.endAngle,i=l(t,n,r,o),c=l(t,n,r,a),s=o-a<=180?"0":"1";return["M",i.x,i.y,"A",r,r,0,s,0,c.x,c.y,"L",t,n,"Z"].join(" ")},h={props:{count:Number,pathColor:{type:Array,default:function(){return["none","none"]}}},render:function(){var e=this,t=arguments[0],n=[],r=this.count,a=360/r;while(r-- >0){var o={cx:5e3,cy:5e3,radius:5e3,startAngle:(this.count-(r+1))*a,endAngle:(this.count-r)*a};n.push(d(o))}return t("svg",{attrs:{viewBox:"0 0 10000 10000"}},[n.map(function(n,r){return t("path",{key:r,attrs:{d:n,fill:e.pathColor[(r+1)%2]}})})])}},p={functional:!0,props:["name","image"],render:function(e,t){return e("div",{class:"prize",style:t.data.style},[e("div",{class:"name"},[t.props.name]),e("img",{class:"img",attrs:{src:t.props.image,alt:"product-image"}})])}},f={components:{WheelBackground:h,PrizeItem:p},props:{buttonImage:String,backgroundImage:String,prizes:{type:Array,default:function(){return[{name:"",image:{src:""},id:""},{name:"",image:{src:""},id:""}]}}},data:function(){return{rotate:!1,rotateAngle:0}},computed:{prizesAfterCalc:function(){var e=this.prizes,t=e.length;return t%2===1?(t+=1,e=Object(o["a"])(e).concat([u()])):(e=Object(o["a"])(e),e.splice((t>>1)-1,1,e[(t>>1)-1],u()),e=Object(o["a"])(e).concat([u()]),t+=2),e}},methods:{handleClickWheelButton:function(){this.$emit("clickWheelButton")},handleStartRotate:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=void 0===n?u()["id"]:n;return new Promise(function(t,n){var a;e.prizesAfterCalc.some(function(e,t){if(e.id===r)return a=t,!0});var o=360-360/e.prizesAfterCalc.length*(a+.5),c=e.rotateAngle%360;e.rotateAngle=e.rotateAngle+s+o-c,e.timer=setTimeout(function(){t()},i)})}},beforeDestroy:function(){clearTimeout(this.timer),this.timer=null},render:function(){var e=arguments[0],t=this.prizesAfterCalc.length,n=360/t,r=n>>1,a=1+.1*(c-t),o=10*(c-t),s={"wheel-content":!0};return e("div",{class:"wheel-wrapper"},[e("div",{class:s,style:"background-image:url(".concat(this.backgroundImage,");transition: all ").concat(.001*i,"s ease;transform: rotate(").concat(this.rotateAngle,"deg);")},[e("wheel-background",{attrs:{pathColor:["#fff","none"],count:t}}),this.prizesAfterCalc.map(function(t,i){var c=["transform:rotate(".concat(i*n+r,"deg)"),"scale(".concat(a,")"),"translateY(".concat(o,"px)")].join(" ");return e("prize-item",{attrs:{name:t.name,image:t.image.src},key:i,style:c})})]),e("div",{on:{click:this.handleClickWheelButton},class:"wheel-button",style:"background-image:url(".concat(this.buttonImage,")")})])}},g=f,m=[{id:"1",name:"iphone 6s",image:{src:"http://shd2.shenhudong.com/public/module/shd3.0/bigturntable/images/9.png"}},{id:"2",name:"iphone 8",image:{src:"http://shd2.shenhudong.com/public/module/shd3.0/bigturntable/images/9.png"}},{id:"3",name:"iphone 7s",image:{src:"http://shd2.shenhudong.com/public/module/shd3.0/bigturntable/images/9.png"}},{id:"4",name:"iphone XR",image:{src:"http://shd2.shenhudong.com/public/module/shd3.0/bigturntable/images/9.png"}}],b="http://image.wxopen.shenhudong.com/20181205/9f678793932b736dd05012d089c0aa9d.png",v="http://image.wxopen.shenhudong.com/20181205/70579f351afe8ea5e03637bdbea7a20d.png",y={components:{Wheel:g},render:function(e){return e(g,{ref:"wheel",attrs:{buttonImage:b,backgroundImage:v,prizes:m},on:{clickWheelButton:this.handleClickWheelButton}})},methods:{handleClickWheelButton:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=function(e){return new Promise(function(t){setTimeout(t,e,"done")})},!this.isLocked){e.next=3;break}return e.abrupt("return",!1);case 3:return this.isLocked=!0,e.prev=4,e.next=7,t(1e3);case 7:if(n={status:0,id:"xxxx"},1!==n.status){e.next=11;break}return e.next=11,this.$refs.wheel.handleStartRotate({id:n.id});case 11:if(0!==n.status){e.next=14;break}return e.next=14,this.$refs.wheel.handleStartRotate();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](4),console.error(e.t0);case 19:return e.prev=19,this.isLocked=!1,e.finish(19);case 22:case"end":return e.stop()}},e,this,[[4,16,19,22]])}));function t(){return e.apply(this,arguments)}return t}()}};r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(y)}}).$mount("#app")},ab7c:function(e,t,n){}});
//# sourceMappingURL=app.c75c0710.js.map